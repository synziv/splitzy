[{"/home/alexisb/Documents/projects/splitzy/src/index.tsx":"1","/home/alexisb/Documents/projects/splitzy/src/reportWebVitals.js":"2","/home/alexisb/Documents/projects/splitzy/src/App.tsx":"3","/home/alexisb/Documents/projects/splitzy/src/redux/store/index.js":"4","/home/alexisb/Documents/projects/splitzy/src/utils/firebase.ts":"5","/home/alexisb/Documents/projects/splitzy/src/redux/actions/user.actions.ts":"6","/home/alexisb/Documents/projects/splitzy/src/redux/reducers/index.ts":"7","/home/alexisb/Documents/projects/splitzy/src/redux/actions/auth.actions.ts":"8","/home/alexisb/Documents/projects/splitzy/src/redux/constants/user.constants.ts":"9","/home/alexisb/Documents/projects/splitzy/src/redux/reducers/userInGroup.reducer.ts":"10","/home/alexisb/Documents/projects/splitzy/src/redux/reducers/items.reducer.ts":"11","/home/alexisb/Documents/projects/splitzy/src/redux/reducers/connectedUser.reducer.ts":"12","/home/alexisb/Documents/projects/splitzy/src/redux/constants/auth.constants.ts":"13","/home/alexisb/Documents/projects/splitzy/src/redux/actions/group.actions.ts":"14","/home/alexisb/Documents/projects/splitzy/src/redux/constants/items.constants.ts":"15","/home/alexisb/Documents/projects/splitzy/src/entity/user.ts":"16","/home/alexisb/Documents/projects/splitzy/src/redux/constants/group.constants.ts":"17","/home/alexisb/Documents/projects/splitzy/src/redux/actions/items.actions.ts":"18","/home/alexisb/Documents/projects/splitzy/src/components/Home.tsx":"19","/home/alexisb/Documents/projects/splitzy/src/components/auth/AuthProvider.tsx":"20","/home/alexisb/Documents/projects/splitzy/src/components/auth/Login.tsx":"21","/home/alexisb/Documents/projects/splitzy/src/components/itemList/ItemList.tsx":"22","/home/alexisb/Documents/projects/splitzy/src/components/itemList/AddItemDialog.tsx":"23","/home/alexisb/Documents/projects/splitzy/src/components/itemList/TotalPrice.tsx":"24","/home/alexisb/Documents/projects/splitzy/src/components/itemList/Item.tsx":"25","/home/alexisb/Documents/projects/splitzy/src/components/groupList/GroupList.tsx":"26","/home/alexisb/Documents/projects/splitzy/src/components/itemList/OwingUserForList.tsx":"27","/home/alexisb/Documents/projects/splitzy/src/components/itemList/UserForList.tsx":"28","/home/alexisb/Documents/projects/splitzy/src/components/groupList/Group.tsx":"29","/home/alexisb/Documents/projects/splitzy/src/components/groupList/AddGroupDialog.tsx":"30"},{"size":500,"mtime":1614607729305,"results":"31","hashOfConfig":"32"},{"size":362,"mtime":1614607729309,"results":"33","hashOfConfig":"32"},{"size":1138,"mtime":1614634819088,"results":"34","hashOfConfig":"32"},{"size":727,"mtime":1614607729309,"results":"35","hashOfConfig":"32"},{"size":756,"mtime":1614607729309,"results":"36","hashOfConfig":"32"},{"size":1983,"mtime":1614607729305,"results":"37","hashOfConfig":"32"},{"size":883,"mtime":1614607729305,"results":"38","hashOfConfig":"32"},{"size":1060,"mtime":1614629374427,"results":"39","hashOfConfig":"32"},{"size":406,"mtime":1614607729305,"results":"40","hashOfConfig":"32"},{"size":1230,"mtime":1614607729309,"results":"41","hashOfConfig":"32"},{"size":981,"mtime":1614607729305,"results":"42","hashOfConfig":"32"},{"size":1384,"mtime":1614607729305,"results":"43","hashOfConfig":"32"},{"size":140,"mtime":1614607729305,"results":"44","hashOfConfig":"32"},{"size":1150,"mtime":1614607729305,"results":"45","hashOfConfig":"32"},{"size":438,"mtime":1614607729305,"results":"46","hashOfConfig":"32"},{"size":637,"mtime":1614607729305,"results":"47","hashOfConfig":"32"},{"size":168,"mtime":1614607729305,"results":"48","hashOfConfig":"32"},{"size":2825,"mtime":1614636222454,"results":"49","hashOfConfig":"32"},{"size":1638,"mtime":1614631997667,"results":"50","hashOfConfig":"32"},{"size":1366,"mtime":1614631979184,"results":"51","hashOfConfig":"32"},{"size":1512,"mtime":1614631986263,"results":"52","hashOfConfig":"32"},{"size":2195,"mtime":1614635339728,"results":"53","hashOfConfig":"32"},{"size":5516,"mtime":1614631998823,"results":"54","hashOfConfig":"32"},{"size":1221,"mtime":1614632138050,"results":"55","hashOfConfig":"32"},{"size":1944,"mtime":1614631941372,"results":"56","hashOfConfig":"32"},{"size":1512,"mtime":1614631998371,"results":"57","hashOfConfig":"32"},{"size":828,"mtime":1614631933344,"results":"58","hashOfConfig":"32"},{"size":1018,"mtime":1614631910856,"results":"59","hashOfConfig":"32"},{"size":1578,"mtime":1614635075770,"results":"60","hashOfConfig":"32"},{"size":1980,"mtime":1614631972273,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},"1apz8oc",{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"64"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"64"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"64"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"103","messages":"104","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"64"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"64"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"64"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"64"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"64"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"64"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"64"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"64"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"64"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"64"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"64"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},"/home/alexisb/Documents/projects/splitzy/src/index.tsx",[],["138","139"],"/home/alexisb/Documents/projects/splitzy/src/reportWebVitals.js",[],["140","141"],"/home/alexisb/Documents/projects/splitzy/src/App.tsx",["142","143"],"import logo from './logo.svg';\nimport './App.css';\nimport React from 'react';\nimport { Provider } from 'react-redux'\nimport AuthProvider from './components/auth/AuthProvider';\nimport store from './redux/store';\nimport Home from './components/Home';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport ItemList from './components/itemList/ItemList';\nimport Login from './components/auth/Login';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Provider store={store}>\n            <AuthProvider>\n              <div className=\"container\">\n                <Switch>\n                  <Route path=\"/items/:id\">\n                    <ItemList />\n                  </Route>\n                  <Route path=\"/auth\">\n                    <Login />\n                  </Route>\n                  <Route path=\"/\">\n                    <Home />\n                  </Route>\n                </Switch>\n              </div>\n            </AuthProvider>\n          </Provider>\n        </header>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","/home/alexisb/Documents/projects/splitzy/src/redux/store/index.js",[],"/home/alexisb/Documents/projects/splitzy/src/utils/firebase.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/actions/user.actions.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/reducers/index.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/actions/auth.actions.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/constants/user.constants.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/reducers/userInGroup.reducer.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/reducers/items.reducer.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/reducers/connectedUser.reducer.ts",["144"],"import { IUser, User } from \"../../entity/user\";\nimport { authContants } from \"../constants/auth.constants\";\nimport { userConstants } from \"../constants/user.constants\";\nimport { userInGroup } from \"./userInGroup.reducer\";\n\nexport interface IConnectedUserState {\n    value: IUser;\n    requestState: string;\n}\n\nexport const defaultConnectedUserState: IConnectedUserState ={\n    value: new User({id: '', name: '', email: ''}),\n    requestState: 'empty'\n}\n\nexport const connectedUser = (state: IConnectedUserState = defaultConnectedUserState, action: any) => { \n    switch (action.type) {\n        case authContants.LOGIN_REQUEST:\n        case userConstants.GET_CONNECTED_USER_REQUEST:\n            return {\n                ...state,\n                requestState: 'requesting'\n            };\n\n        case authContants.LOGIN_SUCCESS:\n        case userConstants.GET_CONNECTED_USER_SUCCESS:{\n            return {\n                value: {...action.payload},\n                requestState: 'success'\n            };\n        }\n            \n\n        case authContants.LOGIN_FAILURE:\n        case userConstants.GET_CONNECTED_USER_FAILURE:\n            return { state, requestState:'failure' };\n        // case itemsConstants.ADD_ITEM_SUCCESS:\n        // case itemsConstants.ADD_ITEM_FAILURE:\n        // case itemsConstants.ADD_ITEM_REQUEST:\n        default:\n            return { ...state };\n    }\n};","/home/alexisb/Documents/projects/splitzy/src/redux/constants/auth.constants.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/actions/group.actions.ts",["145"],"import { groupsConstants } from \"../constants/group.constants\";\nimport { userConstants } from \"../constants/user.constants\";\nconst axios = require('axios').default;\n\nexport const addGroup =(group: any) =>{\n    const request = () => ({ type: groupsConstants.ADD_GROUP_REQUEST });\n\n    const success = (data: any) => {\n        return{\n          type: groupsConstants.ADD_GROUP_SUCCESS,\n          payload: data,\n        }\n    }\n    const failure = (response: any) => {\n        return{\n          type: groupsConstants.ADD_GROUP_FAILURE,\n          errors: response,\n        }\n    };\n\n    const requestURL = '/api/group';\n\n    return async (dispatch: any) => {\n        dispatch(request());\n        axios({\n            method: 'post',\n            url: '/api/group',\n            data: {\n              ...group\n            }\n        })\n        .then((res: { data: any; }) => {\n            dispatch(success(res));\n            dispatch({\n                type: userConstants.GET_CONNECTED_USER_SUCCESS,\n                payload: res.data,\n            })\n        })\n        .catch((res: any) =>{ \n            dispatch(failure(res))\n        });\n            \n    }\n}","/home/alexisb/Documents/projects/splitzy/src/redux/constants/items.constants.ts",[],"/home/alexisb/Documents/projects/splitzy/src/entity/user.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/constants/group.constants.ts",[],"/home/alexisb/Documents/projects/splitzy/src/redux/actions/items.actions.ts",["146"],"/home/alexisb/Documents/projects/splitzy/src/components/Home.tsx",["147","148","149","150","151"],"import ItemList from \"./itemList/ItemList\"\nimport Login from \"./auth/Login\"\nimport { useAuth } from \"./auth/AuthProvider\"\n// /pages/authenticated.tsx\nimport React from 'react';\nimport GroupList from \"./groupList/GroupList\";\nimport { firebaseInstance } from \"../utils/firebase\";\nimport { State } from \"../redux/reducers\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport {isEmpty} from 'lodash';\nimport { getConnectedUser } from \"../redux/actions/user.actions\";\nimport { IConnectedUserState } from \"../redux/reducers/connectedUser.reducer\";\n\nconst Home =()=>{\n    const dispatch = useDispatch();\n    const userCookie = useAuth();\n    const connectedUser: IConnectedUserState = useSelector((state:State)=> state.connectedUser);\n    const loggedIn = ()=>{\n        if(connectedUser.value.id!=\"\"){\n            console.log(userCookie.user);\n            console.log(connectedUser)\n            console.log(isEmpty(connectedUser.value));\n            /*if(isEmpty(connectedUser.value) && connectedUser.requestState!='requesting'){\n                if(firebaseInstance.auth().currentUser == null)\n                    firebaseInstance.auth().signOut();\n                userCookie.user.getIdToken().then((token)=>{\n                    dispatch(getConnectedUser(token));\n                });\n            }*/\n            return(\n                <GroupList/>\n            )\n        }\n            \n        else{\n            //firebaseInstance.auth().signOut();\n            return(\n                <Login/>\n            )\n        }\n            \n    }\n    return (\n        <div>\n            {loggedIn()}\n        </div>\n    )\n}\nexport default Home;","/home/alexisb/Documents/projects/splitzy/src/components/auth/AuthProvider.tsx",["152","153"],"import { createContext, useState, useEffect, useContext } from 'react';\nimport 'firebase/auth';\nimport firebase from 'firebase/app';\nimport nookies from 'nookies';\n\nconst AuthContext = createContext<{ user: firebase.User | null }>({\n  user: null,\n});\n\nfunction AuthProvider({ children }: any) {\n   const [user, setUser] = useState<firebase.User | null>(null);\n\n  /*useEffect(() => {\n    return firebase.auth().onIdTokenChanged((firebaseUser) => {\n      console.log('*************connected user');\n      console.log('*************firebase user');\n      console.log(user);\n      if (!firebaseUser) {\n        setUser(null);\n        nookies.set(undefined, 'token', '');\n      } else {\n        firebaseUser.getIdToken().then((token)=>{\n          setUser(firebaseUser);\n          nookies.set(undefined, 'token', token);\n        });\n      }\n    });\n  }, []);*/\n\n   // force refresh the token every 10 minutes\n   useEffect(() => {\n     const handle = setInterval(async () => {\n       const user = firebase.auth().currentUser;\n       if (user) await user.getIdToken(true);\n     }, 10 * 60 * 1000);\n\n     // clean up setInterval\n     return () => clearInterval(handle);\n   }, []);\n\n   return (\n     <AuthContext.Provider value={{ user }}>{children}</AuthContext.Provider>\n   );\n}\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\nexport default AuthProvider;","/home/alexisb/Documents/projects/splitzy/src/components/auth/Login.tsx",["154","155","156"],"import React from 'react';\nimport { Button } from '@material-ui/core';\nimport FacebookIcon from '@material-ui/icons/Facebook';\nimport { firebaseInstance } from '../../utils/firebase';\nimport { useDispatch } from 'react-redux';\nimport { login } from '../../redux/actions/auth.actions';\n\nconst Login = () => {\n    const dispatch = useDispatch();\n    const provider = new firebaseInstance.auth.FacebookAuthProvider();\n    \n    const facebookAuth = () => {\n        firebaseInstance.auth().signInWithRedirect(provider);\n    }\n\n    firebaseInstance.auth()\n                .getRedirectResult()\n                .then((result) => {\n                    if (result.credential)\n                        dispatch(login(result.credential));\n                    \n                }).catch((error) => {\n                    // Handle Errors here.\n                    var errorCode = error.code;\n                    var errorMessage = error.message;\n                    // The email of the user's account used.\n                    var email = error.email;\n                    // The firebase.auth.AuthCredential type that was used.\n                    var credential = error.credential;\n                    // ...\n                    console.log(errorCode)\n                });\n    return (\n        <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<FacebookIcon />}\n            onClick={facebookAuth}\n        >Login !</Button>\n        \n    )\n}\n\nexport default Login;","/home/alexisb/Documents/projects/splitzy/src/components/itemList/ItemList.tsx",["157","158","159"],"import React, { useEffect } from 'react';\nimport { Fab, List, Button } from '@material-ui/core';\nimport {Add} from '@material-ui/icons';\nimport AddItemDialog from './AddItemDialog';\nimport TotalPrice from './TotalPrice';\nimport ItemForList from './Item';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getUsersInGroup } from '../../redux/actions/user.actions';\nimport { getItems } from '../../redux/actions/items.actions';\nimport { firebaseInstance } from '../../utils/firebase';\nimport nookies from 'nookies';\nimport { State } from '../../redux/reducers';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { IGroup } from '../../entity/group';\n\nconst ItemList = ()=> {\n    const dispatch = useDispatch();\n    const location = useLocation();\n    const match = useRouteMatch<{id:string}>();\n    const itemList = useSelector((state:State)=>state.items.values);\n    const [open, setOpen] = React.useState(false);\n    console.log(match.params);\n    useEffect(() => {\n        dispatch(getUsersInGroup());\n        dispatch(getItems(match.params.id));\n    }, []);\n    const generateItem = () => {\n        if(itemList)\n            return itemList.map((item, index) => {\n                return <ItemForList item={item} index={index} />\n            })\n    }\n    \n    \n      \n    //CRUD item methods\n    /*add an item : \n        - change state to open dialog window\n        - save recorded input if all is good\n        - close dialog otherwise\n    */\n    const addItem = ()=>{\n        setOpen(true);\n    }\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const signOut = ()=>{\n        firebaseInstance.auth().signOut().then(()=>{\n            nookies.set(undefined, 'token', '');\n        });\n        console.log('byebye')\n    }\n    return (\n        <div>\n            <List dense>\n                {generateItem()}\n            </List>\n            <TotalPrice />\n            <Fab color=\"primary\" aria-label=\"add\" onClick={addItem}>\n                <Add />\n            </Fab>\n            <AddItemDialog open={open} handleClose={handleClose}/>\n            <Button onClick={signOut}>Sign out</Button>\n        </div>\n        \n    );\n}\nexport default ItemList;","/home/alexisb/Documents/projects/splitzy/src/components/itemList/AddItemDialog.tsx",["160","161","162","163","164","165","166","167","168"],"import React, { ChangeEvent } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Select, List } from '@material-ui/core';\nimport UserForList from './UserForList';\nimport { addItem } from '../../redux/actions/items.actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { State } from '../../redux/reducers';\nimport { IUser } from '../../entity/user';\nimport { IUserInGroup } from '../../redux/reducers/userInGroup.reducer';\n\ninterface IAddItemDialogProps{\n  open : boolean;\n  handleClose: ()=>void;\n}\n\nexport default function AddItemDialog(props: IAddItemDialogProps) {\n  const usersInGroup: IUserInGroup[] = useSelector((state: State) =>state.userInGroup === undefined ? [] :state.userInGroup.values );\n  const connectedUser: IUser = useSelector((state:State)=> state.connectedUser.value);\n  const dispatch = useDispatch();\n  const [name, setName] = React.useState('');\n  const [total, setTotal] = React.useState(0);\n  const [splitMode, setSplitMode] = React.useState('all');\n  const [customSplitMode, setCustomSplitMode] = React.useState('even');\n  const [splitWith, setsplitWith] = React.useState<string[]>([]);\n\n\n  const generateSplitWith =(): string[]=>{\n    let nextSplitWith:string[]=[];\n      usersInGroup.forEach(user=> {\n        //modifier pour connected user\n        if(user.id!= connectedUser.id)\n          nextSplitWith.push(user.id)\n      });\n    return nextSplitWith;\n  }\n  const handleNameChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setName(e.target.value);\n  }\n  const handleTotalChange = (e: ChangeEvent<HTMLInputElement>) => {\n    try {\n      setTotal(Number(e.target.value))\n    }\n    catch{ }\n  }\n  const handleSplitModeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSplitMode(e.target.value);\n    if(e.target.value == 'all')\n      setsplitWith(generateSplitWith());\n  }\n  \n  const handleCustomSplitModeChange = (e:React.ChangeEvent<HTMLInputElement>) => {\n      setCustomSplitMode(e.target.value);\n  }\n  const close = () => {\n    setName('');\n    setTotal(0);\n    props.handleClose();\n  }\n  const save = () => {\n    const splitModeToSave = splitMode == 'all' ? splitMode : customSplitMode;\n    const groupId = 1;\n    //name, total, userId, splitModeToSave, splitWith,\n    dispatch(addItem({\n      name: name,\n      id: '',\n      total: total,\n      splitMode: splitModeToSave,\n      splitWith: splitModeToSave =='all'? generateSplitWith() : splitWith,\n      user: connectedUser.id,\n      groupId: '-MS3W5LMXAwk9nqRl0Dc'\n    }));\n    close();\n  }\n  //changer avec connected user\n  const generateUserInGroup = () =>\n      usersInGroup.map((user, index) => {\n        if(user.id!=connectedUser.id ){\n          let checked = splitWith.includes(user.id) ? true : false;\n          return <UserForList user={user} index={index} checked={checked} handleToggle={handleToggleUser} />\n        }\n    });\n  const handleToggleUser = (userId: string) => {\n    let temp = splitWith;\n    if (splitWith.includes(userId)) {\n      const index = splitWith.findIndex(exceptUserId => exceptUserId == userId);\n      temp.splice(index, 1);\n    }\n    else\n      temp.push(userId);\n    setsplitWith([...temp]);\n  }\n  const customChoices = () => {\n    if (splitMode != 'all') {\n      return (\n        <div>\n          <List dense>\n            {generateUserInGroup()}\n          </List>\n          <Select\n            native\n            value={customSplitMode}\n            onChange={()=>handleCustomSplitModeChange}\n          >\n            <option aria-label=\"even\" value=\"even\">Even</option>\n            <option value={1/3}>1/3</option>\n            <option value={2/3}>2/3</option>\n            <option value={1/4}>1/4</option>\n            <option value={3/4}>3/4</option>\n          </Select>\n        </div>\n      )\n    }\n  }\n  return (\n    <div>\n      <Dialog open={props.open} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add an item</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            To add an item enter the name and the total price you paid it\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Name of the item\"\n            value={name}\n            fullWidth\n            onChange={handleNameChange}\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"total\"\n            label=\"Total price of the item\"\n            value={total}\n            fullWidth\n            onChange={handleTotalChange}\n          />\n          <Select\n            native\n            value={splitMode}\n            onChange={()=>handleSplitModeChange}\n          >\n            <option aria-label=\"All\" value=\"all\">All</option>\n            <option value=\"custom\">Custom</option>\n          </Select>\n          {customChoices()}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={close} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={save} color=\"primary\">\n            Add item\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}","/home/alexisb/Documents/projects/splitzy/src/components/itemList/TotalPrice.tsx",["169","170","171"],"import React from 'react';\nimport OwingUserForList from './OwingUserForList';\nimport { List } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport { State } from '../../redux/reducers';\n\nconst GenerateUserInGroup = (connectedUser: string) =>{\n    const userInGroup = useSelector((state:State)=>state.userInGroup.values);\n    if(userInGroup && userInGroup.length > 0){\n        const connectedUserTemp = userInGroup.find(user => user.id == connectedUser);\n        if (connectedUserTemp) {\n            return connectedUserTemp.owingArr.map((value, index) => {\n                const owingUser = userInGroup.find(user => user.id == value.user);\n                if(owingUser){\n                    const valueForChild = { user: owingUser, owing: value.owing };\n                    return <OwingUserForList value={valueForChild} index={index} />\n                }\n            });\n        }\n\n    }\n}\n    \n    \n    \n    \nconst TotalPrice = () => {\n    return (\n        <List dense>\n            <h1>Alexis</h1>\n            {GenerateUserInGroup('-MS3Vc-PX4CZzmfVi9hO')}\n            <h1>Beatrice</h1>\n            {GenerateUserInGroup('-MS3VYXs7TTA5oSadrcA')}\n        </List>\n    )\n} \n\nexport default TotalPrice;","/home/alexisb/Documents/projects/splitzy/src/components/itemList/Item.tsx",["172","173","174","175"],"import React from 'react';\nimport {ListItem, ListItemText, ListItemSecondaryAction, Checkbox, IconButton, ListItemAvatar, Avatar} from '@material-ui/core';\nimport {Delete} from '@material-ui/icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteItem } from '../../redux/actions/items.actions';\nimport { State } from '../../redux/reducers';\nimport { connectedUser } from '../../redux/reducers/connectedUser.reducer';\nimport { IItem } from '../../entity/item';\n\ninterface IItemProps {\n    item: IItem\n    index: number\n}\n\nconst ItemForList = (props: IItemProps) => {\n    const dispatch = useDispatch();\n    const user = useSelector((state:State)=>state.userInGroup.values.find(user=> user.id == props.item.user));\n    const connectedUser = useSelector((state:State)=>state.connectedUser.value);\n    const handleDeleteItem =()=>{\n        dispatch(deleteItem(props.item.id));\n    }\n    const deleteIcon =()=>{\n        if(connectedUser.id == props.item.user){\n            return(\n                <ListItemSecondaryAction>\n                    <IconButton aria-label=\"delete\" onClick={handleDeleteItem}>\n                        <Delete fontSize=\"small\" />\n                    </IconButton>\n                </ListItemSecondaryAction>\n            )\n        }\n        return null\n    }\n    if(user)\n        return (\n            <ListItem key={props.index} button>\n                <ListItemAvatar>\n                <Avatar\n                    alt={`Avatar color`}\n                    src={`/img/${user.color}.jpg`}\n                />\n                </ListItemAvatar>\n                <ListItemText primary={props.item.name} secondary={props.item.total} />\n                {deleteIcon()}\n            </ListItem>\n        )\n    return null;\n} \n\nexport default ItemForList;\n\n/*<Checkbox\n    edge=\"end\"\n    onChange={/*handleToggle(value)}\n    checked={checked.indexOf(value) !== -1}\n    inputProps={{ 'aria-labelledby': labelId }}\n/>*/","/home/alexisb/Documents/projects/splitzy/src/components/groupList/GroupList.tsx",["176","177","178","179","180","181"],"import React, { useEffect, Props } from 'react';\nimport { Fab, List, Button } from '@material-ui/core';\nimport {Add} from '@material-ui/icons';\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport nookies from 'nookies';\nimport AddGroupDialog from './AddGroupDialog';\nimport { isUndefined } from 'util';\nimport GroupForList from './Group';\nimport { State } from '../../redux/reducers';\nimport { IGroup } from '../../entity/group';\n\nconst GroupList =()=> {\n    const groupList = useSelector((state:State)=>{\n            if(state.connectedUser.value && 'groups' in state.connectedUser.value)\n                return (state.connectedUser.value.groups)\n            else\n                return ([])\n    });\n    //const groupsObj = useDispatch();\n    const [open, setOpen] = React.useState(false);\n    console.log(groupList)\n    const generateGroup = () => {\n        if(groupList)\n            return groupList.map((group: IGroup, index: number) => {\n                return <GroupForList group={group} index={index} />\n            })\n    }\n    \n    const addGroup = ()=>{\n        setOpen(true);\n    }\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n        <div>\n            <List dense>\n                {generateGroup()}\n            </List> \n            <Fab color=\"primary\" aria-label=\"add\" onClick={addGroup}>\n                <Add />\n            </Fab>\n            <AddGroupDialog open={open} handleClose={handleClose}/>\n        </div>\n        \n    );\n}\nexport default GroupList;","/home/alexisb/Documents/projects/splitzy/src/components/itemList/OwingUserForList.tsx",["182"],"import React from 'react';\nimport {ListItem, ListItemText, ListItemAvatar, Avatar} from '@material-ui/core';\nimport { IUser } from '../../entity/user';\nimport { IUserInGroup } from '../../redux/reducers/userInGroup.reducer';\n\nexport type T_OwingUserForListProps = {\n    value: {user:IUserInGroup, owing: number}\n    index: number;\n}\n\nconst OwingUserForList = (props: T_OwingUserForListProps) => {\n    return (\n        <ListItem key={props.index} button>\n            <ListItemAvatar>\n              <Avatar\n                alt={`Avatar color`}\n                src={`/img/${props.value.user.color}.jpg`}\n              />\n            </ListItemAvatar>\n            <ListItemText primary={props.value.user.name} />\n            <ListItemText primary={props.value.owing} />\n        </ListItem>\n    )\n} \n\nexport default OwingUserForList;","/home/alexisb/Documents/projects/splitzy/src/components/itemList/UserForList.tsx",["183"],"import React from 'react';\nimport {ListItem, ListItemText, ListItemSecondaryAction, Checkbox, IconButton, ListItemAvatar, Avatar} from '@material-ui/core';\nimport { IUserInGroup } from '../../redux/reducers/userInGroup.reducer';\ninterface I_UserForListProps{\n  index: number,\n  user : IUserInGroup,\n  checked: boolean,\n  handleToggle: (id: string)=>void\n}\nconst UserForList = (props: I_UserForListProps) => {\n    return (\n        <ListItem key={props.index} button>\n            <ListItemAvatar>\n              <Avatar\n                alt={`Avatar color`}\n                src={`/img/${props.user.color}.jpg`}\n              />\n            </ListItemAvatar>\n            <ListItemText primary={props.user.name} />\n            <ListItemSecondaryAction>\n              <Checkbox\n                edge=\"end\"\n                onChange={()=>{props.handleToggle(props.user.id)}}\n                checked={props.checked}\n              />\n            </ListItemSecondaryAction>\n        </ListItem>\n    )\n} \n\nexport default UserForList;","/home/alexisb/Documents/projects/splitzy/src/components/groupList/Group.tsx",["184","185","186","187","188","189","190","191","192"],"import React from 'react';\nimport {ListItem, ListItemText, ListItemSecondaryAction, Checkbox, IconButton, ListItemAvatar, Avatar} from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport { IGroup } from '../../entity/group';\nimport { group } from 'console';\n\ninterface IGroupProps {\n    group: IGroup;\n    index: number\n}\n\nconst GroupForList = (props: IGroupProps) => {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const handleDeleteItem =()=>{\n        //dispatch(deleteItem(props.item.id));\n    }\n    /*const deleteIcon =()=>{\n        if(connectedUser.id == props.item.user){\n            return(\n                <ListItemSecondaryAction>\n                    <IconButton aria-label=\"delete\" onClick={handleDeleteItem}>\n                        <Delete fontSize=\"small\" />\n                    </IconButton>\n                </ListItemSecondaryAction>\n            )\n        }\n        return null\n    }*/\n    const groupClicked=()=>{\n        console.log(props.group.id);\n        history.push(`/items/${props.group.id}`);\n    }\n    if(props.group)\n        return (\n            <ListItem key={props.index} button onClick={groupClicked}>\n                <ListItemText primary={props.group.name} />\n                {/*deleteIcon()*/}\n            </ListItem>\n        )\n    return null;\n} \n\nexport default GroupForList;\n\n/*<Checkbox\n    edge=\"end\"\n    onChange={/*handleToggle(value)}\n    checked={checked.indexOf(value) !== -1}\n    inputProps={{ 'aria-labelledby': labelId }}\n/>*/","/home/alexisb/Documents/projects/splitzy/src/components/groupList/AddGroupDialog.tsx",[],{"ruleId":"193","replacedBy":"194"},{"ruleId":"195","replacedBy":"196"},{"ruleId":"193","replacedBy":"194"},{"ruleId":"195","replacedBy":"196"},{"ruleId":"197","severity":1,"message":"198","line":1,"column":8,"nodeType":"199","messageId":"200","endLine":1,"endColumn":12},{"ruleId":"197","severity":1,"message":"201","line":12,"column":3,"nodeType":"199","messageId":"200","endLine":12,"endColumn":7},{"ruleId":"197","severity":1,"message":"202","line":4,"column":10,"nodeType":"199","messageId":"200","endLine":4,"endColumn":21},{"ruleId":"197","severity":1,"message":"203","line":21,"column":11,"nodeType":"199","messageId":"200","endLine":21,"endColumn":21},{"ruleId":"197","severity":1,"message":"204","line":2,"column":10,"nodeType":"199","messageId":"200","endLine":2,"endColumn":21},{"ruleId":"197","severity":1,"message":"205","line":1,"column":8,"nodeType":"199","messageId":"200","endLine":1,"endColumn":16},{"ruleId":"197","severity":1,"message":"206","line":7,"column":10,"nodeType":"199","messageId":"200","endLine":7,"endColumn":26},{"ruleId":"197","severity":1,"message":"207","line":11,"column":10,"nodeType":"199","messageId":"200","endLine":11,"endColumn":26},{"ruleId":"197","severity":1,"message":"208","line":15,"column":11,"nodeType":"199","messageId":"200","endLine":15,"endColumn":19},{"ruleId":"209","severity":1,"message":"210","line":19,"column":34,"nodeType":"211","messageId":"212","endLine":19,"endColumn":36},{"ruleId":"197","severity":1,"message":"213","line":4,"column":8,"nodeType":"199","messageId":"200","endLine":4,"endColumn":15},{"ruleId":"197","severity":1,"message":"214","line":11,"column":17,"nodeType":"199","messageId":"200","endLine":11,"endColumn":24},{"ruleId":"197","severity":1,"message":"215","line":25,"column":25,"nodeType":"199","messageId":"200","endLine":25,"endColumn":37},{"ruleId":"197","severity":1,"message":"216","line":27,"column":25,"nodeType":"199","messageId":"200","endLine":27,"endColumn":30},{"ruleId":"197","severity":1,"message":"217","line":29,"column":25,"nodeType":"199","messageId":"200","endLine":29,"endColumn":35},{"ruleId":"197","severity":1,"message":"218","line":14,"column":10,"nodeType":"199","messageId":"200","endLine":14,"endColumn":16},{"ruleId":"197","severity":1,"message":"219","line":18,"column":11,"nodeType":"199","messageId":"200","endLine":18,"endColumn":19},{"ruleId":"220","severity":1,"message":"221","line":26,"column":8,"nodeType":"222","endLine":26,"endColumn":10,"suggestions":"223"},{"ruleId":"209","severity":1,"message":"210","line":37,"column":19,"nodeType":"211","messageId":"212","endLine":37,"endColumn":21},{"ruleId":"209","severity":1,"message":"224","line":53,"column":23,"nodeType":"211","messageId":"212","endLine":53,"endColumn":25},{"ruleId":"209","severity":1,"message":"224","line":66,"column":39,"nodeType":"211","messageId":"212","endLine":66,"endColumn":41},{"ruleId":"197","severity":1,"message":"225","line":67,"column":11,"nodeType":"199","messageId":"200","endLine":67,"endColumn":18},{"ruleId":"209","severity":1,"message":"224","line":74,"column":34,"nodeType":"211","messageId":"212","endLine":74,"endColumn":36},{"ruleId":"226","severity":1,"message":"227","line":82,"column":38,"nodeType":"228","messageId":"229","endLine":82,"endColumn":40},{"ruleId":"209","severity":1,"message":"210","line":83,"column":19,"nodeType":"211","messageId":"212","endLine":83,"endColumn":21},{"ruleId":"209","severity":1,"message":"224","line":91,"column":70,"nodeType":"211","messageId":"212","endLine":91,"endColumn":72},{"ruleId":"209","severity":1,"message":"210","line":99,"column":19,"nodeType":"211","messageId":"212","endLine":99,"endColumn":21},{"ruleId":"209","severity":1,"message":"224","line":10,"column":68,"nodeType":"211","messageId":"212","endLine":10,"endColumn":70},{"ruleId":"226","severity":1,"message":"227","line":12,"column":66,"nodeType":"228","messageId":"229","endLine":12,"endColumn":68},{"ruleId":"209","severity":1,"message":"224","line":13,"column":68,"nodeType":"211","messageId":"212","endLine":13,"endColumn":70},{"ruleId":"197","severity":1,"message":"230","line":2,"column":58,"nodeType":"199","messageId":"200","endLine":2,"endColumn":66},{"ruleId":"197","severity":1,"message":"231","line":7,"column":10,"nodeType":"199","messageId":"200","endLine":7,"endColumn":23},{"ruleId":"209","severity":1,"message":"224","line":17,"column":90,"nodeType":"211","messageId":"212","endLine":17,"endColumn":92},{"ruleId":"209","severity":1,"message":"224","line":23,"column":29,"nodeType":"211","messageId":"212","endLine":23,"endColumn":31},{"ruleId":"197","severity":1,"message":"232","line":1,"column":17,"nodeType":"199","messageId":"200","endLine":1,"endColumn":26},{"ruleId":"197","severity":1,"message":"233","line":1,"column":28,"nodeType":"199","messageId":"200","endLine":1,"endColumn":33},{"ruleId":"197","severity":1,"message":"234","line":2,"column":21,"nodeType":"199","messageId":"200","endLine":2,"endColumn":27},{"ruleId":"197","severity":1,"message":"204","line":4,"column":10,"nodeType":"199","messageId":"200","endLine":4,"endColumn":21},{"ruleId":"197","severity":1,"message":"213","line":6,"column":8,"nodeType":"199","messageId":"200","endLine":6,"endColumn":15},{"ruleId":"197","severity":1,"message":"235","line":8,"column":10,"nodeType":"199","messageId":"200","endLine":8,"endColumn":21},{"ruleId":"197","severity":1,"message":"236","line":3,"column":10,"nodeType":"199","messageId":"200","endLine":3,"endColumn":15},{"ruleId":"197","severity":1,"message":"237","line":2,"column":68,"nodeType":"199","messageId":"200","endLine":2,"endColumn":78},{"ruleId":"197","severity":1,"message":"238","line":2,"column":33,"nodeType":"199","messageId":"200","endLine":2,"endColumn":56},{"ruleId":"197","severity":1,"message":"230","line":2,"column":58,"nodeType":"199","messageId":"200","endLine":2,"endColumn":66},{"ruleId":"197","severity":1,"message":"237","line":2,"column":68,"nodeType":"199","messageId":"200","endLine":2,"endColumn":78},{"ruleId":"197","severity":1,"message":"239","line":2,"column":80,"nodeType":"199","messageId":"200","endLine":2,"endColumn":94},{"ruleId":"197","severity":1,"message":"240","line":2,"column":96,"nodeType":"199","messageId":"200","endLine":2,"endColumn":102},{"ruleId":"197","severity":1,"message":"241","line":3,"column":10,"nodeType":"199","messageId":"200","endLine":3,"endColumn":21},{"ruleId":"197","severity":1,"message":"242","line":6,"column":10,"nodeType":"199","messageId":"200","endLine":6,"endColumn":15},{"ruleId":"197","severity":1,"message":"208","line":14,"column":11,"nodeType":"199","messageId":"200","endLine":14,"endColumn":19},{"ruleId":"197","severity":1,"message":"243","line":16,"column":11,"nodeType":"199","messageId":"200","endLine":16,"endColumn":27},"no-native-reassign",["244"],"no-negated-in-lhs",["245"],"@typescript-eslint/no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'userInGroup' is defined but never used.","'requestURL' is assigned a value but never used.","'useDispatch' is defined but never used.","'ItemList' is defined but never used.","'firebaseInstance' is defined but never used.","'getConnectedUser' is defined but never used.","'dispatch' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'nookies' is defined but never used.","'setUser' is assigned a value but never used.","'errorMessage' is assigned a value but never used.","'email' is assigned a value but never used.","'credential' is assigned a value but never used.","'IGroup' is defined but never used.","'location' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'match.params.id'. Either include them or remove the dependency array.","ArrayExpression",["246"],"Expected '===' and instead saw '=='.","'groupId' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'Checkbox' is defined but never used.","'connectedUser' is defined but never used.","'useEffect' is defined but never used.","'Props' is defined but never used.","'Button' is defined but never used.","'isUndefined' is defined but never used.","'IUser' is defined but never used.","'IconButton' is defined but never used.","'ListItemSecondaryAction' is defined but never used.","'ListItemAvatar' is defined but never used.","'Avatar' is defined but never used.","'useSelector' is defined but never used.","'group' is defined but never used.","'handleDeleteItem' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"247","fix":"248"},"Update the dependencies array to be: [dispatch, match.params.id]",{"range":"249","text":"250"},[1089,1091],"[dispatch, match.params.id]"]